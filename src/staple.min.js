!function(t){"use strict";function e(t,e,s){var i="."+e+" {\n  position: fixed;\n  top: "+t+"px; }\n@media screen and (max-width: "+s+"px) {  ."+e+" {\n    position: relative;\n    top: auto; } }",n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.styleSheet?o.styleSheet.cssText=i:o.appendChild(document.createTextNode(i)),n.appendChild(o)}function s(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")>-1}function i(t){var s=t||{};return this.settings={stapleId:s.stapleId||"staple",wrapperId:s.wrapperId||"staple-wrapper",offset:s.offset||0,stapledClass:s.stapledClass||"stapled",mobileWidth:s.mobileWidth||640},this.staple=document.getElementById(this.settings.stapleId),this.wrapper=document.getElementById(this.settings.wrapperId),this.inRAF=!1,this.lastYOffset=0,this.staple||console.error("No staple element with ID "+this.settings.stapleId),this.wrapper||console.error("No wrapper element with ID "+this.settings.wrapperId),e(this.settings.offset,this.settings.stapledClass,this.settings.mobileWidth),this}i.prototype._staple=function(){this.staple.style.width=window.getComputedStyle(this.staple).width,s(this.staple,this.settings.stapledClass)||(this.staple.className+=" "+this.settings.stapledClass+" ")},i.prototype._unStaple=function(){this.staple.style.width="",this.staple.className=this.staple.className.replace(" "+this.settings.stapledClass,"")},i.prototype.getOnScroll=function(){var t=this,e=function(){t.lastYOffset=window.pageYOffset,t.inRAF||(t.inRAF=!0,window.requestAnimationFrame(function(){t.lastYOffset>=t.lastWrapperOffset-t.settings.offset?t._staple():t._unStaple(),t.inRAF=!1}))};return e},i.prototype.getOnResize=function(){var t=this,e=function(){t.lastWrapperOffset=window.pageYOffset+t.wrapper.getBoundingClientRect().top};return e},i.prototype.enable=function(){this.onScroll=this.getOnScroll(),this.onResize=this.getOnResize(),this.onResize(),this.onScroll(),window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.onResize)},i.prototype.disable=function(){this._unStaple(),window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize)},"function"==typeof define&&define.amd?define(i):"undefined"!=typeof module&&module.exports?module.exports=i:t.Staple=i}(this);