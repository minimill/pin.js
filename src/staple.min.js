!function(e){"use strict";function t(e,t,s){var n="."+t+" {\n  position: fixed;\n  top: "+e+"px; }\n@media screen and (max-width: "+s+"px) {  ."+t+" {\n    position: relative;\n    top: auto; } }",i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n)),i.appendChild(o)}function s(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1}function n(e){var s=e||{};return this.settings={stapleId:s.stapleId||"staple",wrapperId:s.wrapperId||"staple-wrapper",offset:s.offset||0,stapledClass:s.stapledClass||"stapled",mobileWidth:s.mobileWidth||640},this.staple=document.getElementById(this.settings.stapleId),this.wrapper=document.getElementById(this.settings.wrapperId),this.inRAF=!1,this.lastYOffset=0,this.staple||console.error("No staple element with ID "+this.settings.stapleId),this.wrapper||console.error("No wrapper element with ID "+this.settings.wrapperId),t(this.settings.offset,this.settings.stapledClass,this.settings.mobileWidth),this}n.prototype._staple=function(){s(this.staple,this.settings.stapledClass)||(this.staple.className+=" "+this.settings.stapledClass+" ")},n.prototype._unStaple=function(){this.staple.className=this.staple.className.replace(" "+this.settings.stapledClass,"")},n.prototype.getOnScroll=function(){var e=this,t=function(){e.lastYOffset=window.pageYOffset,e.inRAF||(e.inRAF=!0,window.requestAnimationFrame(function(){e.lastYOffset>=e.lastWrapperOffset-e.settings.offset?e._staple():e._unStaple(),e.inRAF=!1}))};return t},n.prototype.getOnResize=function(){var e=this,t=function(){e.lastWrapperOffset=window.pageYOffset+e.wrapper.getBoundingClientRect().top};return t},n.prototype.enable=function(){this.onScroll=this.getOnScroll(),this.onResize=this.getOnResize(),this.onResize(),this.onScroll(),window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.onResize)},n.prototype.disable=function(){this._unStaple(),window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize)},"function"==typeof define&&define.amd?define(n):"undefined"!=typeof module&&module.exports?module.exports=n:e.Staple=n}(this);