!function(t){"use strict";function e(t){this.message=t,this.name="StapleException"}function s(t,e,s){var n="."+e+" {\n  position: fixed;\n  top: "+t+"px; }\n@media screen and (max-width: "+s+"px) {  ."+e+" {\n    position: relative;\n    top: auto; } }",i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n)),i.appendChild(a)}function n(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")>-1}function i(t){var n=t||{};if(this.settings={stapleId:n.stapleId||"staple",wrapperId:n.wrapperId||"staple-wrapper",offset:n.offset||0,stapledClass:n.stapledClass||"stapled",mobileWidth:n.mobileWitdth||640},this.staple=document.getElementById(this.settings.stapleId),this.wrapper=document.getElementById(this.settings.wrapperId),this.inRAF=!1,this.lastYOffset=0,!this.staple)throw new e("No staple element with ID "+this.settings.stapleId);if(!this.wrapper)throw new e("No wrapper element with ID "+this.settings.wrapperId);return s(this.settings.offset,this.settings.stapledClass,this.settings.mobileWidth),this}i.prototype._staple=function(){this.staple.className+=" "+this.settings.stapledClass+" "},i.prototype._unStaple=function(){this.staple.className=this.staple.className.replace(" "+this.settings.stapledClass,"")},i.prototype.getOnScroll=function(){var t=this,e=function(){t.lastYOffset=window.pageYOffset,t.inRAF||(t.inRAF=!0,window.requestAnimationFrame(function(){t.wrapper.offsetTop<=t.settings.offset+t.lastYOffset?n(t.staple,t.settings.stapledClass)||t._staple():t._unStaple(),t.inRAF=!1}))};return e},i.prototype.enable=function(){this.onScroll=this.getOnScroll(),window.addEventListener("scroll",this.onScroll)},i.prototype.disable=function(){this._unStaple(),window.removeEventListener("scroll",this.onScroll)},"function"==typeof define&&define.amd?define(i):"undefined"!=typeof module&&module.exports?module.exports=i:t.Staple=i}(this);